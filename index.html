<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RJEZM DIGITAL - Pro</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body { background:#F6F0FF; }
.sidebar {
background: linear-gradient(180deg,#C8B6FF,#9D7BFF,#7B5BFF);
}
.glass {
background: rgba(255,255,255,0.7);
backdrop-filter: blur(10px);
border-radius:20px;
box-shadow:0 8px 20px rgba(0,0,0,0.05);
}
.card-gradient {
background: linear-gradient(135deg,#C8B6FF,#9D7BFF);
color:white;
border-radius:20px;
}
.active-link {
background: rgba(255,255,255,0.2);
}
</style>
</head>
<body class="flex min-h-screen">

<!-- SIDEBAR -->
<div id="sidebar" class="sidebar w-64 text-white p-6 space-y-6 fixed md:relative h-full transition-all duration-300">
<h1 class="text-xl font-bold">ðŸ’œ RJEZM DIGITAL</h1>

<nav class="space-y-2">
<div class="p-2 rounded cursor-pointer active-link" onclick="showTab('dashboard')">Dashboard</div>
<div class="p-2 rounded cursor-pointer" onclick="showTab('orders')">Orders</div>
<div class="p-2 rounded cursor-pointer" onclick="showTab('sales')">Sales</div>
<div class="p-2 rounded cursor-pointer" onclick="showTab('inventory')">Inventory</div>
<div class="p-2 rounded cursor-pointer" onclick="showTab('backup')">Backup</div>
</nav>
</div>

<!-- MAIN -->
<div class="flex-1 p-6 md:ml-64">

<!-- MOBILE TOGGLE -->
<button class="md:hidden mb-4 bg-purple-500 text-white px-4 py-2 rounded" onclick="toggleSidebar()">â˜° Menu</button>

<!-- DASHBOARD -->
<div id="dashboard">
<h2 class="text-2xl font-bold text-purple-700 mb-6">Dashboard</h2>

<div class="grid md:grid-cols-4 gap-6 mb-8">
<div class="card-gradient p-6">
<p>Total Sales</p>
<h3 id="totalSales" class="text-2xl font-bold">â‚±0</h3>
</div>
<div class="card-gradient p-6">
<p>Monthly Profit</p>
<h3 id="monthlyProfit" class="text-2xl font-bold">â‚±0</h3>
</div>
<div class="card-gradient p-6">
<p>Active Orders</p>
<h3 id="activeOrders" class="text-2xl font-bold">0</h3>
</div>
<div class="card-gradient p-6">
<p>Low Stock</p>
<h3 id="lowStock" class="text-2xl font-bold">0</h3>
</div>
</div>

<div class="grid md:grid-cols-2 gap-6">
<div class="glass p-6"><canvas id="salesChart"></canvas></div>
<div class="glass p-6"><canvas id="ordersChart"></canvas></div>
</div>
</div>

<!-- ORDERS -->
<div id="orders" class="hidden">
<h2 class="text-2xl font-bold text-purple-700 mb-6">Orders</h2>

<div class="glass p-6 mb-6">
<input id="oName" placeholder="Customer Name" class="border p-2 rounded w-full mb-2">
<select id="oProduct" class="border p-2 rounded w-full mb-2">
<option>Notebook</option>
<option>Activity Book</option>
<option>Photo Print</option>
<option>Souvenir</option>
<option>Sticker</option>
</select>
<input id="oTotal" type="number" placeholder="Total Amount" class="border p-2 rounded w-full mb-2">
<input id="oDP" type="number" placeholder="Downpayment" class="border p-2 rounded w-full mb-2">
<button onclick="addOrder()" class="bg-purple-500 text-white px-4 py-2 rounded w-full">Save Order</button>
</div>

<div id="ordersTable" class="glass p-6"></div>
</div>

<!-- SALES -->
<div id="sales" class="hidden">
<h2 class="text-2xl font-bold text-purple-700 mb-6">Sales & Expenses</h2>

<div class="grid md:grid-cols-2 gap-6">
<div class="glass p-6">
<input id="saleAmount" type="number" placeholder="Add Sale" class="border p-2 rounded w-full mb-2">
<button onclick="addSale()" class="bg-purple-500 text-white px-4 py-2 rounded w-full">Add Sale</button>
</div>
<div class="glass p-6">
<input id="expenseAmount" type="number" placeholder="Add Expense" class="border p-2 rounded w-full mb-2">
<button onclick="addExpense()" class="bg-purple-500 text-white px-4 py-2 rounded w-full">Add Expense</button>
</div>
</div>
</div>

<!-- INVENTORY -->
<div id="inventory" class="hidden">
<h2 class="text-2xl font-bold text-purple-700 mb-6">Inventory</h2>

<div class="glass p-6 mb-6">
<input id="iName" placeholder="Material Name" class="border p-2 rounded w-full mb-2">
<input id="iQty" type="number" placeholder="Quantity" class="border p-2 rounded w-full mb-2">
<input id="iMin" type="number" placeholder="Minimum Level" class="border p-2 rounded w-full mb-2">
<button onclick="addInventory()" class="bg-purple-500 text-white px-4 py-2 rounded w-full">Save</button>
</div>

<div id="inventoryTable" class="glass p-6"></div>
</div>

<!-- BACKUP -->
<div id="backup" class="hidden">
<h2 class="text-2xl font-bold text-purple-700 mb-6">Backup</h2>
<div class="glass p-6">
<button onclick="exportBackup()" class="bg-purple-500 text-white px-4 py-2 rounded w-full mb-4">Export Backup</button>
<input type="file" onchange="importBackup(event)" class="w-full">
</div>
</div>

</div>

<script>
const DB={save:(k,d)=>localStorage.setItem(k,JSON.stringify(d)),load:(k)=>JSON.parse(localStorage.getItem(k))||[]};

function toggleSidebar(){
document.getElementById("sidebar").classList.toggle("-translate-x-full");
}

function showTab(tab){
["dashboard","orders","sales","inventory","backup"].forEach(id=>{
document.getElementById(id).classList.add("hidden");
});
document.getElementById(tab).classList.remove("hidden");
}

function addOrder(){
let data=DB.load("orders");
data.push({name:oName.value,product:oProduct.value,total:+oTotal.value,dp:+oDP.value,status:"Active"});
DB.save("orders",data);
renderOrders(); updateDashboard();
}

function renderOrders(){
let data=DB.load("orders");
ordersTable.innerHTML="<table class='w-full'><tr><th>Name</th><th>Product</th><th>Balance</th></tr>"+
data.map(o=>`<tr><td>${o.name}</td><td>${o.product}</td><td>â‚±${o.total-o.dp}</td></tr>`).join("")+"</table>";
}

function addSale(){let s=DB.load("sales");s.push(+saleAmount.value);DB.save("sales",s);updateDashboard();}
function addExpense(){let e=DB.load("expenses");e.push(+expenseAmount.value);DB.save("expenses",e);updateDashboard();}
function addInventory(){let i=DB.load("inventory");i.push({name:iName.value,qty:+iQty.value,min:+iMin.value});DB.save("inventory",i);renderInventory();updateDashboard();}
function renderInventory(){let i=DB.load("inventory");inventoryTable.innerHTML="<table class='w-full'><tr><th>Name</th><th>Stock</th></tr>"+i.map(m=>`<tr><td>${m.name}</td><td>${m.qty}</td></tr>`).join("")+"</table>";}

function updateDashboard(){
let sales=DB.load("sales").reduce((a,b)=>a+b,0);
let exp=DB.load("expenses").reduce((a,b)=>a+b,0);
let orders=DB.load("orders").length;
let low=DB.load("inventory").filter(i=>i.qty<=i.min).length;

totalSales.textContent="â‚±"+sales;
monthlyProfit.textContent="â‚±"+(sales-exp);
activeOrders.textContent=orders;
lowStock.textContent=low;

new Chart(document.getElementById("salesChart"),{
type:"bar",
data:{labels:["Sales"],datasets:[{data:[sales],backgroundColor:"#9D7BFF"}]}
});

new Chart(document.getElementById("ordersChart"),{
type:"doughnut",
data:{labels:["Orders"],datasets:[{data:[orders],backgroundColor:["#C8B6FF"]}]}
});
}

renderOrders();
renderInventory();
updateDashboard();
</script>

</body>
</html>